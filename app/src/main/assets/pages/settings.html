<!DOCTYPE html>
<html lang="en" Theme="blue_material">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <title>Settings</title>
    <script src="../module/android.js"></script>
    <link rel="stylesheet" href="../ui-files/font-usage.css">
    <link rel="stylesheet" href="../ui-files/ui.css">
    <link rel="stylesheet" href="../ui-files/variables.css">
    <link rel="stylesheet" href="../components/components.css">
    <link rel="stylesheet" href="../components/modal-ver.css">
    <script src="../module/iroJs.js"></script>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        themeConfig(localStorage.getItem('materialThemeColorSource') || '#aac7ff')

    setTimeout(()=>{
               document.querySelectorAll('md-switch').forEach((snglSwitch) =>{
        snglSwitch.style.opacity = 'unset'
    })
        if(localStorage.getItem('useDarkTheme') && localStorage.getItem('useDarkTheme') === 'true'){
        sendThemeToAndroid(getComputedStyle(document.documentElement).getPropertyValue('--Surface'), getComputedStyle(document.documentElement).getPropertyValue('--Surface'), '0')
        AndroidFunctionActivityInterface.androidFunction('hideSurfaceOverlay');

    } else{
        sendThemeToAndroid(getComputedStyle(document.documentElement).getPropertyValue('--Surface'), getComputedStyle(document.documentElement).getPropertyValue('--Surface'), '1')
        AndroidFunctionActivityInterface.androidFunction('hideSurfaceOverlay');
    }


    },80);


});
    </script>
    <style>
        .custom_theme .color-item{
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--clr);
            border-radius: 50px;
            flex-shrink: 0;
        }

        .custom_theme .color-item::before{
            content: 'check';
            font-family: 'Material symbols';
            font-weight: normal !important;
            font-style: normal !important;
            line-height: 1;
            font-size: 24px;
            color: var(--clr-check);
            display: var(--display-style, none);
        }

        .custom_theme{
            display: flex;
            overflow: auto;
            gap: 10px;
        }

        .custom_theme_items.hidden{
            height: 0px;
            padding: 0;
            margin: 0;
            opacity: 0;
        }

        .custom_theme_items{
            opacity: 1;
            overflow: hidden;
        }
        .main_provider_item {
            font-size: 16px;
            font-family: var(--google-mid);
            display: flex;
            align-items: center;
            gap: 10px;
            padding-top: 13px;
            padding-bottom: 13px;
        }

        .main_provider_item:first-child {
            padding-top: 5px;
        }


        md-switch{
            opacity: 0;
            z-index: 1;
        }
        md-list{
                padding-bottom: 0;
        }
    </style>

</head>
<body>
    <div id="app">
    <div class="activity-large open">
        <div class="header-activity-large" id="head-1">
          <md-icon-button onclick="ActivityBack();">
            <md-icon icon-outlined>arrow_back</md-icon>
        </md-icon-button>
          <p class="label-hidden-large" style="white-space: nowrap;">Settings</p>
        </div>
        <div class="activity-large-content" id="headUser-1">
          <p class="label-large-main">Settings</p>
          <div class="content-parent-large" style="padding-bottom: 32px;">

            <md-list>
                <p class="title" style="margin-top: 0px; padding-bottom: 0;">App looks</p>

                <md-list-item>
                    <md-icon icon-filled slot="start">palette</md-icon>
                    <div slot="headline">Dynamic colors</div>
                    <div slot="supporting-text">Use wallpaper colors</div>
                    <md-switch slot="end" id="DynamicColorsSwitch"></md-switch>
                    <label for="DynamicColorsSwitch" style="position: absolute; left: 0; top: 0; width: 100%; height: 100%;" slot="end"><md-ripple></md-ripple></label>
                </md-list-item>

                <md-list-item class="custom_theme_items customthemeSlider" type="button" onclick="openColorDialog()">
                    <md-icon icon-filled slot="start">colorize</md-icon>
                    <div slot="headline">Color accent</div>
                    <div slot="supporting-text">Select a seed color to generate the theme</div>
                    <div class="colorPrevSeed" style="width: 40px; height: 40px; border-radius: 50px; border: 1px solid var(--Outline-Variant);" slot="end">
                    </div>
                </md-list-item>

                <md-list-item>
                    <md-icon icon-filled slot="start">dark_mode</md-icon>
                    <div slot="headline">Dark theme</div>
                    <div slot="supporting-text">Use dark theme colors</div>
                    <md-switch slot="end" id="darkThemeSwitch"></md-switch>
                    <label for="darkThemeSwitch" style="position: absolute; left: 0; top: 0; width: 100%; height: 100%;" slot="end"><md-ripple></md-ripple></label>
                  </md-list-item>


                <md-list-item onclick="openAppFontDialog()" type="button">
                    <md-icon icon-filled slot="start">font_download</md-icon>
                    <div slot="headline" data-translate="font">Font</div>
                    <div slot="supporting-text" data-translate="change_apps_font">Change app's font</div>
                </md-list-item>

            </md-list>


                <md-list>
                    <p class="title" style="margin-top: 0px; padding-bottom: 0;">Notes</p>



                <md-list-item onclick="openNotesViewDialog()" type="button">
                    <md-icon icon-filled slot="start">grid_view</md-icon>
                    <div slot="headline" data-translate="font">Notes view</div>
                    <div slot="supporting-text" id="selectedNotesViewText">Grid view</div>
                </md-list-item>

                    <md-list-item>
                        <md-icon icon-filled slot="start">title</md-icon>
                        <div slot="headline">Title only</div>
                        <div slot="supporting-text">Show only the title on note tiles</div>
                        <md-switch slot="end" id="onlyShowTitleSwitch"></md-switch>
                        <label for="onlyShowTitleSwitch" style="position: absolute; left: 0; top: 0; width: 100%; height: 100%;" slot="end"><md-ripple></md-ripple></label>
                    </md-list-item>

                <md-list-item>
                    <md-icon icon-filled slot="start">bookmarks</md-icon>
                    <div slot="headline">Stack labels</div>
                    <div slot="supporting-text">Labels will be stacked in a grid instead of a row</div>
                    <md-switch slot="end" id="showStackedLabelSwitch"></md-switch>
                    <label for="showStackedLabelSwitch" style="position: absolute; left: 0; top: 0; width: 100%; height: 100%;" slot="end"><md-ripple></md-ripple></label>
                </md-list-item>

                <md-list-item type="button" onclick="openClearBinAfterDialog()">
                    <md-icon icon-filled slot="start">delete_forever</md-icon>
                    <div slot="headline">Auto-Clear Bin</div>
                    <div slot="supporting-text" id="SelectedClearBinTimeText">Never</div>
                </md-list-item>

                <md-list-item type="button" id="changeAppPinCodeBtn">
                    <md-icon icon-filled slot="start">pin</md-icon>
                    <div slot="headline">Change pin code</div>
                    <div slot="supporting-text">Pin code used for locked labels</div>
                </md-list-item>


                <md-list-item>
                    <md-icon icon-filled slot="start">label</md-icon>
                    <div slot="headline">Remember selected label</div>
                    <div slot="supporting-text">Will automatically select the last used label on app start. Locked labels will be excluded</div>
                    <md-switch slot="end" id="RememberLastLabelSwitch"></md-switch>
                    <label for="RememberLastLabelSwitch" style="position: absolute; left: 0; top: 0; width: 100%; height: 100%;" slot="end"><md-ripple></md-ripple></label>
                </md-list-item>


                <md-list-item style="--md-list-item-bottom-space: 0;">
                    <md-icon icon-filled slot="start">line_style</md-icon>
                    <div slot="headline">Max lines to display on note titles</div>
                </md-list-item>
                    <div class="slider_option_list" style="position: relative; height: 30px;">
                        <div style="position: absolute; width: calc(100% - 39px - 10px); top: -8px;">
                            <md-slider labeled step="1" ticks min="1" max="8" value="3" id="displayLinesSlider"></md-slider></div>
                    </div>

                <md-list-item id="useFingerItem">
                    <md-icon icon-filled slot="start">fingerprint</md-icon>
                    <div slot="headline">Unlock with fingerprint</div>
                    <div slot="supporting-text">Use fingerprint to unlock locked labels</div>
                    <div slot="overline" id="overLineTextFinger">Pin is required to use this</div>
                    <md-switch slot="end" id="useFingerPrintSwitch"></md-switch>
                    <label for="useFingerPrintSwitch" style="position: absolute; left: 0; top: 0; width: 100%; height: 100%;" slot="end"><md-ripple></md-ripple></label>
                    <script>
                        if(!localStorage.getItem('applabelAccessPin')){
                            document.getElementById('useFingerPrintSwitch').disabled = true
                            document.querySelector('label[for="useFingerPrintSwitch"]').style.pointerEvents = 'none';
                        }
                    </script>
                </md-list-item>

            </md-list>

              <md-list>
                  <p class="title" style="margin-top: 0px; padding-bottom: 0;">Additional</p>

                  <md-list-item type="button" id="exportAppData">
                      <md-icon icon-filled slot="start">upload</md-icon>
                      <div slot="headline">Export data</div>
                      <div slot="supporting-text">Export a backup file</div>
                  </md-list-item>


                  <md-list-item type="button" id="importAppData">
                      <md-icon icon-filled slot="start">download</md-icon>
                      <div slot="headline">Import data</div>
                      <div slot="supporting-text">import a backup file</div>
                      <input type="file" id="ImportFile" style="display:none;" accept="application/json">
                  </md-list-item>

                  <md-list-item type="button" onclick="navigateActivity('AboutPage');">
                      <md-icon icon-filled slot="start">info</md-icon>
                      <div slot="headline">About NotesMaster</div>
                      <div slot="supporting-text">Learn about the app</div>
                      <md-icon icon-outlined slot="end">chevron_right</md-icon>
                  </md-list-item>
              </md-list>



              <br>
              <br>
              <br>
              <br>
              <br>
              <br>

              <md-dialog id="chooseMaterialColorDialog" style="min-width: 85%;">
                  <div slot="content">
                      <div id="colorPickerSheetContent" style="padding-bottom: 0;">
                          <div id="colorPicker" slot="headline">
                          </div>
                      </div>
                  </div>

                  <div slot="actions">
                      <md-filled-tonal-button onclick="window.history.back();" data-translate="ok" style="width: 100%; --md-filled-tonal-button-container-elevation: none; --md-filled-tonal-button-hover-container-elevation: none;">OK</md-filled-tonal-button>
                  </div>
              </md-dialog>
          <!-- dialogs -->

          <md-dialog id="chooseAPPFontDialog" style="min-width: 85%;">
              <div slot="headline" data-translate="app_font">App font</div>

              <div slot="content">
                  <label class="main_provider_item">
                      <md-radio slot="start" value="product_sans" name="app_font_radio"></md-radio>
                      Product sans
                  </label>
                  <label class="main_provider_item">
                      <md-radio slot="start" value="roboto" name="app_font_radio"></md-radio>
                      Inter
                  </label>
              </div>

              <div slot="actions">
                  <md-text-button onclick="window.history.back()" data-translate="cancel">Cancel</md-text-button>
                  <md-text-button id="saveSelectedFont" data-translate="ok">OK</md-text-button>
              </div>
          </md-dialog>

              <md-dialog id="chooseNotesViewDialog" style="min-width: 85%;">
                  <div slot="headline">Notes view</div>

                  <div slot="content">
                      <label class="main_provider_item">
                          <md-radio slot="start" value="grid_view" name="notes_view_radio"></md-radio>
                          Grid view
                      </label>
                      <label class="main_provider_item">
                          <md-radio slot="start" value="cards_view" name="notes_view_radio"></md-radio>
                          Cards view
                      </label>
                      <label class="main_provider_item">
                          <md-radio slot="start" value="list_view" name="notes_view_radio"></md-radio>
                          List view
                      </label>
                  </div>

                  <div slot="actions">
                      <md-text-button onclick="window.history.back()" data-translate="cancel">Cancel</md-text-button>
                      <md-text-button id="saveSelectedViewBtn" data-translate="ok">OK</md-text-button>
                  </div>
              </md-dialog>

              <md-dialog id="chooseAutoClearBinDialog" style="min-width: 85%;">
                  <div slot="headline">Auto-Clear Bin</div>

                  <div slot="content">
                      <label class="main_provider_item">
                          <md-radio slot="start" value="clear_never" name="bin_clear_radio"></md-radio>
                          Never
                      </label>
                      <label class="main_provider_item">
                          <md-radio slot="start" value="clear_24hrs" name="bin_clear_radio"></md-radio>
                          After 24 hours
                      </label>
                      <label class="main_provider_item">
                          <md-radio slot="start" value="clear_7days" name="bin_clear_radio"></md-radio>
                          After 7 days
                      </label>
                      <label class="main_provider_item">
                          <md-radio slot="start" value="clear_14days" name="bin_clear_radio"></md-radio>
                          After 14 days
                      </label>
                      <label class="main_provider_item">
                          <md-radio slot="start" value="clear_30days" name="bin_clear_radio"></md-radio>
                          After 30 days
                      </label>
                  </div>

                  <div slot="actions">
                      <md-text-button onclick="window.history.back()" data-translate="cancel">Cancel</md-text-button>
                      <md-text-button id="saveSelectedClearBinTime" data-translate="ok">Save</md-text-button>
                  </div>
              </md-dialog>

              <md-dialog style="min-width: 85%;" id="changePinCodeDialog">
              <div slot="headline">Change pin</div>

              <div slot="content">
                  <md-outlined-text-field style="width: 100%; margin-bottom: 10px;" placeholder="Old pin" id="oldPinInput"></md-outlined-text-field>
                  <md-outlined-text-field style="width: 100%;" placeholder="New pin" id="newPinInput"></md-outlined-text-field>
              </div>

              <div slot="actions">
                  <md-text-button onclick="window.history.back()">Cancel</md-text-button>
                  <md-text-button id="changePinCode">Change</md-text-button>
              </div>
          </md-dialog>

          <load_theme hidden></load_theme>

          </div>
    </div>
</div>
</div>
    <script>

        const user1 = document.getElementById("headUser-1");

        function changeColorOnScroll1() {
        var container = document.getElementById("headUser-1");
        var scrollY = container.scrollTop;

        if (scrollY >= 50) {
            document.getElementById("head-1").style.backgroundColor =
            "var(--Surface-Container)";
            document.getElementById("head-1").style.transition = "";

            document.getElementById("headUser-1").style.scrollSnapType = "unset";
            container.removeEventListener("scroll", changeColorOnScroll1);
            sendThemeToAndroid(getComputedStyle(document.documentElement).getPropertyValue('--Surface-Container'), getComputedStyle(document.documentElement).getPropertyValue('--Surface'), Themeflag, '220')

        } else {
        }
        }

        if (user1) {
        document
            .getElementById("headUser-1")
            .addEventListener("scroll", changeColorOnScroll1);
        }

        function changeColorOnScroll1A() {
        var container = document.getElementById("headUser-1");
        var scrollY = container.scrollTop;

        if (scrollY <= 1) {
            document.getElementById("head-1").style.backgroundColor = "";
            document.getElementById("head-1").style.transition =
            "background-color 0.2s ease-in";

            sendThemeToAndroid(getComputedStyle(document.documentElement).getPropertyValue('--Surface'), getComputedStyle(document.documentElement).getPropertyValue('--Surface'), Themeflag, '220')


            container.addEventListener("scroll", changeColorOnScroll1);
            if (scrollY <= 20);
            {
            document.getElementById("headUser-1").style.scrollSnapType = "";
            }
        } else {
        }
        }

        if (user1) {
        document
            .getElementById("headUser-1")
            .addEventListener("scroll", changeColorOnScroll1A);
        }
    </script>

    <script>

</script>
    <script type="module" src="../index.js"></script>
    <script src="../bundle.js"></script>
    <script src="../components-script.js/components.js"></script>
    <script src="../module/settingsModule.js"></script>
    <script src="../module/render.js"></script>
    <script src="../app/changeLock.js"></script>
    <script src="../module/materialTheme.js" type="module"></script>

</body>
</html>